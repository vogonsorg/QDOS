misc crapola

diff -urp Mesa-3.4.2/include/GL/wmesa.h Mesa-3.4.2x/include/GL/wmesa.h
--- Mesa-3.4.2/include/GL/wmesa.h	2016-05-02 01:55:50.000000000 +0300
+++ Mesa-3.4.2x/include/GL/wmesa.h	2016-05-02 01:56:00.000000000 +0300
@@ -71,6 +71,7 @@ extern "C" {
 
 #include "GL/gl.h"
 
+#if defined(_MSC_VER)
 #pragma warning (disable:4273)
 #pragma warning( disable : 4244 ) /* '=' : conversion from 'const double ' to 'float ', possible loss of data */
 #pragma warning( disable : 4018 ) /* '<' : signed/unsigned mismatch */
@@ -81,6 +82,7 @@ extern "C" {
 #if (MESA_WARNQUIET>1)
 #	pragma warning( disable : 4146 ) /* unary minus operator applied to unsigned type, result still unsigned */
 #endif
+#endif
 
 /*
  * This is the WMesa context 'handle':
diff -urp Mesa-3.4.2/src/glheader.h Mesa-3.4.2x/src/glheader.h
--- Mesa-3.4.2/src/glheader.h	2016-05-02 01:55:50.000000000 +0300
+++ Mesa-3.4.2x/src/glheader.h	2016-05-02 01:56:00.000000000 +0300
@@ -79,6 +79,7 @@
 #endif
 
 #if !defined(OPENSTEP) && (defined(__WIN32__) && !defined(__CYGWIN__))
+#  ifdef _MSC_VER
 #  pragma warning( disable : 4068 ) /* unknown pragma */
 #  pragma warning( disable : 4710 ) /* function 'foo' not inlined */
 #  pragma warning( disable : 4711 ) /* function 'foo' selected for automatic inline expansion */
@@ -90,6 +91,7 @@
 #    pragma warning( disable : 4550 ) /* 'function' undefined; assuming extern returning int */
 #    pragma warning( disable : 4761 ) /* integral size mismatch in argument; conversion supplied */
 #  endif
+#  endif /* _MSC_VER */
 #  if (defined(_MSC_VER)||defined(__MINGW32__)) && defined(BUILD_GL32) /* tag specify we're building mesa as a DLL */
 #    define GLAPI __declspec(dllexport)
 #    define WGLAPI __declspec(dllexport)
